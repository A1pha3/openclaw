---
summary: "å…¥ç«™å›¾ç‰‡/éŸ³é¢‘/è§†é¢‘ç†è§£ - å¯é€‰çš„æä¾›å•† + CLI å›é€€æœºåˆ¶"
read_when:
  - è®¾è®¡æˆ–é‡æ„åª’ä½“ç†è§£
  - è°ƒä¼˜å…¥ç«™éŸ³é¢‘/è§†é¢‘/å›¾ç‰‡é¢„å¤„ç†
  - é…ç½®åª’ä½“ç†è§£æ¨¡å‹
title: "åª’ä½“ç†è§£"
---

# ğŸ§  åª’ä½“ç†è§£ï¼ˆå…¥ç«™ï¼‰

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç» OpenClaw çš„å…¥ç«™åª’ä½“ç†è§£åŠŸèƒ½ï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€éŸ³é¢‘å’Œè§†é¢‘çš„æ™ºèƒ½åˆ†æã€‚

---

## ğŸ¯ è®¾è®¡ç›®æ ‡

| ç›®æ ‡ | è¯´æ˜ |
|------|------|
| **å¯é€‰é¢„å¤„ç†** | å°†å…¥ç«™åª’ä½“æ‘˜è¦ä¸ºç®€çŸ­æ–‡æœ¬ï¼Œä¾¿äºè·¯ç”±å’Œå‘½ä»¤è§£æ |
| **ä¿ç•™åŸå§‹åª’ä½“** | å§‹ç»ˆå°†åŸå§‹æ–‡ä»¶/URL ä¼ é€’ç»™æ¨¡å‹ |
| **å¤šæ¨¡å¼æ”¯æŒ** | æ”¯æŒæä¾›å•† API å’Œ CLI å›é€€ |
| **æ•…éšœè½¬ç§»** | å¤šä¸ªæ¨¡å‹æŒ‰é¡ºåºå›é€€ï¼ˆé”™è¯¯/å¤§å°/è¶…æ—¶ï¼‰ |

---

## ğŸ”„ é«˜çº§è¡Œä¸º

### å¤„ç†æµç¨‹

```
1. æ”¶é›†å…¥ç«™é™„ä»¶ï¼ˆMediaPaths, MediaUrls, MediaTypesï¼‰
          â”‚
          â–¼
2. å¯¹æ¯ä¸ªå¯ç”¨çš„èƒ½åŠ›ï¼ˆimage/audio/videoï¼‰ï¼ŒæŒ‰ç­–ç•¥é€‰æ‹©é™„ä»¶
          â”‚
          â–¼
3. é€‰æ‹©ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ¨¡å‹æ¡ç›®ï¼ˆå¤§å° + èƒ½åŠ› + è®¤è¯ï¼‰
          â”‚
          â”œâ”€â†’ æˆåŠŸ â†’ æ’å…¥ [Image]/[Audio]/[Video] å—
          â”‚
          â””â”€â†’ å¤±è´¥/å¤ªå¤§ â†’ å›é€€åˆ°ä¸‹ä¸€ä¸ªæ¡ç›®
          â”‚
          â–¼
4. åŸå§‹ body + é™„ä»¶ç»§ç»­å›å¤æµç¨‹
```

### å¤„ç†ç»“æœ

| åª’ä½“ç±»å‹ | æ’å…¥å†…å®¹ | ç‰¹æ®Šå˜é‡ |
|----------|----------|----------|
| å›¾ç‰‡ | `[Image]` å— | - |
| éŸ³é¢‘ | `[Audio]` å— | `{{Transcript}}` |
| è§†é¢‘ | `[Video]` å— | - |

> **æ³¨æ„**ï¼šæ ‡é¢˜ä¿ç•™ä¸º `User text:` æ”¾åœ¨å—å†…ã€‚

---

## âš™ï¸ é…ç½®æ¦‚è¿°

### é…ç½®ç»“æ„

```json5
{
  tools: {
    media: {
      // å…±äº«æ¨¡å‹åˆ—è¡¨
      models: [...],
      
      // å›¾ç‰‡ç†è§£ï¼ˆå¯é€‰è¦†ç›–ï¼‰
      image: {...},
      
      // éŸ³é¢‘ç†è§£ï¼ˆå¯é€‰è¦†ç›–ï¼‰
      audio: {...},
      
      // è§†é¢‘ç†è§£ï¼ˆå¯é€‰è¦†ç›–ï¼‰
      video: {...},
      
      // å¹¶å‘æ§åˆ¶
      concurrency: 2
    }
  }
}
```

### æ¯ç§èƒ½åŠ›çš„é…ç½®

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `enabled` | æ˜¯å¦å¯ç”¨ | true |
| `models` | æ¨¡å‹åˆ—è¡¨ | - |
| `prompt` | æç¤ºè¯ | è‡ªåŠ¨ç”Ÿæˆ |
| `maxChars` | æœ€å¤§å­—ç¬¦æ•° | 500ï¼ˆå›¾ç‰‡/è§†é¢‘ï¼‰/ ä¸é™åˆ¶ï¼ˆéŸ³é¢‘ï¼‰ |
| `maxBytes` | æœ€å¤§æ–‡ä»¶å¤§å° | 10MBï¼ˆå›¾ç‰‡ï¼‰/ 20MBï¼ˆéŸ³é¢‘ï¼‰/ 50MBï¼ˆè§†é¢‘ï¼‰ |
| `timeoutSeconds` | è¶…æ—¶æ—¶é—´ | 60 |
| `language` | è¯­è¨€ | - |
| `attachments` | é™„ä»¶ç­–ç•¥ | - |
| `scope` | èŒƒå›´é™åˆ¶ | - |

---

## ğŸ“ æ¨¡å‹æ¡ç›®

### æä¾›å•†æ¨¡å‹

```json5
{
  type: "provider",  // é»˜è®¤
  provider: "openai",
  model: "gpt-4o",
  prompt: "ç”¨ä¸è¶…è¿‡500å­—æè¿°è¿™å¼ å›¾ç‰‡ã€‚",
  maxChars: 500,
  maxBytes: 10485760,
  timeoutSeconds: 60,
  capabilities: ["image"],
  profile: "vision-profile",
  preferredProfile: "vision-fallback"
}
```

### CLI æ¨¡å‹

```json5
{
  type: "cli",
  command: "gemini",
  args: [
    "-m",
    "gemini-3-flash",
    "--allowed-tools",
    "read_file",
    "è¯»å– {{MediaPath}} çš„åª’ä½“å¹¶ç”¨ä¸è¶…è¿‡ {{MaxChars}} å­—æè¿°å®ƒã€‚"
  ],
  maxChars: 500,
  maxBytes: 52428800,
  timeoutSeconds: 120,
  capabilities: ["video", "image"]
}
```

### CLI æ¨¡æ¿å˜é‡

| å˜é‡ | è¯´æ˜ |
|------|------|
| `{{MediaPath}}` | åª’ä½“æ–‡ä»¶è·¯å¾„ |
| `{{MediaDir}}` | åª’ä½“æ–‡ä»¶æ‰€åœ¨ç›®å½• |
| `{{OutputDir}} | æœ¬æ¬¡è¿è¡Œçš„ä¸´æ—¶ç›®å½• |
| `{{OutputBase}}` | ä¸´æ—¶æ–‡ä»¶åŸºç¡€è·¯å¾„ï¼ˆæ— æ‰©å±•åï¼‰ |
| `{{MaxChars}}` | æœ€å¤§å­—ç¬¦æ•° |

---

## ğŸ”€ æ•…éšœè½¬ç§»æœºåˆ¶

### è½¬ç§»æ¡ä»¶

| æ¡ä»¶ | è¡Œä¸º |
|------|------|
| åª’ä½“è¶…è¿‡ `maxBytes` | è·³è¿‡è¯¥æ¨¡å‹ï¼Œå°è¯•ä¸‹ä¸€ä¸ª |
| æ¨¡å‹è¶…æ—¶ | å›é€€åˆ°ä¸‹ä¸€ä¸ª |
| æ¨¡å‹é”™è¯¯ | å›é€€åˆ°ä¸‹ä¸€ä¸ª |
| æˆåŠŸ | ä½¿ç”¨ç»“æœï¼Œç»§ç»­æµç¨‹ |

### æ¨¡å‹é€‰æ‹©é¡ºåº

1. æŒ‰é…ç½®é¡ºåºå°è¯•æ¯ä¸ªæ¨¡å‹
2. è·³è¿‡ä¸åŒ¹é…çš„ï¼ˆèƒ½åŠ›ã€å¤§å°ï¼‰
3. ç¬¬ä¸€ä¸ªæˆåŠŸçš„æ¨¡å‹è¢«ä½¿ç”¨

---

## ğŸ›ï¸ æ¨èé…ç½®

### å›¾ç‰‡ç†è§£

| æä¾›å•† | æ¨¡å‹ | ç‰¹ç‚¹ |
|--------|------|------|
| OpenAI | `gpt-4o` | é€šç”¨èƒ½åŠ›å¼º |
| Anthropic | `claude-opus-4` | æ¨ç†èƒ½åŠ›å¼º |
| Google | `gemini-3-pro` | å¤šæ¨¡æ€ä¼˜ç§€ |

### éŸ³é¢‘ç†è§£

| æä¾›å•† | æ¨¡å‹ | ç‰¹ç‚¹ |
|--------|------|------|
| OpenAI | `gpt-4o-mini-transcribe` | å¿«é€Ÿã€ä½æˆæœ¬ |
| Groq | `whisper-large-v3-turbo` | è¶…å¿«é€Ÿ |
| Deepgram | `nova-3` | é«˜ç²¾åº¦ |

### è§†é¢‘ç†è§£

| æä¾›å•† | æ¨¡å‹ | ç‰¹ç‚¹ |
|--------|------|------|
| Google | `gemini-3-flash-preview` | å¿«é€Ÿ |
| Google | `gemini-3-pro-preview` | ä¸°å¯Œç»†èŠ‚ |

---

## ğŸ“ é™„ä»¶ç­–ç•¥

### é…ç½®é€‰é¡¹

```json5
{
  attachments: {
    mode: "first",          // first | all
    maxAttachments: 1,       // æœ€å¤§å¤„ç†æ•°é‡
    prefer: "first"          // first | last | path | url
  }
}
```

### å¤šé™„ä»¶å¤„ç†

å½“ `mode: "all"` æ—¶ï¼Œè¾“å‡ºæ ‡æ³¨ä¸ºï¼š
- `[Image 1/2]`
- `[Audio 2/2]`

---

## ğŸ”„ è‡ªåŠ¨æ£€æµ‹ï¼ˆé»˜è®¤ï¼‰

å¦‚æœæœªé…ç½®æ¨¡å‹ï¼ŒOpenClaw æŒ‰ä»¥ä¸‹é¡ºåºè‡ªåŠ¨æ£€æµ‹ï¼š

### éŸ³é¢‘

| ä¼˜å…ˆçº§ | æ–¹å¼ | è¦æ±‚ |
|--------|------|------|
| 1 | sherpa-onnx-offline | éœ€è¦ `SHERPA_ONNX_MODEL_DIR` |
| 2 | whisper-cli | ä½¿ç”¨ `WHISPER_CPP_MODEL` |
| 3 | whisper | è‡ªåŠ¨ä¸‹è½½æ¨¡å‹ |
| 4 | Gemini CLI | `read_many_files` |
| 5 | æä¾›å•†å¯†é’¥ | OpenAI â†’ Groq â†’ Deepgram â†’ Google |

### å›¾ç‰‡

| ä¼˜å…ˆçº§ | æ–¹å¼ |
|--------|------|
| 1 | OpenAI |
| 2 | Anthropic |
| 3 | Google |
| 4 | MiniMax |

### è§†é¢‘

| ä¼˜å…ˆçº§ | æ–¹å¼ |
|--------|------|
| 1 | Google (Gemini API) |

### ç¦ç”¨è‡ªåŠ¨æ£€æµ‹

```json5
{
  tools: {
    media: {
      audio: {
        enabled: false
      }
    }
  }
}
```

---

## ğŸ“Š æä¾›å•†æ”¯æŒçŸ©é˜µ

| èƒ½åŠ› | æä¾›å•† | è¯´æ˜ |
|------|--------|------|
| **å›¾ç‰‡** | OpenAI, Anthropic, Google | ä»»ä½•æ”¯æŒå›¾åƒçš„æ¨¡å‹ |
| **éŸ³é¢‘** | OpenAI, Groq, Deepgram, Google | è½¬å½•æœåŠ¡ |
| **è§†é¢‘** | Google (Gemini API) | è§†é¢‘ç†è§£ |

---

## ğŸ› æ•…éšœæ’é™¤

### ç†è§£å¤±è´¥

```bash
# æ£€æŸ¥é…ç½®
openclaw config get tools.media

# æŸ¥çœ‹æ—¥å¿—
openclaw logs --lines 100 | grep "media"

# æ£€æŸ¥çŠ¶æ€
openclaw status | grep media
```

### å¤§å°é™åˆ¶

```bash
# è°ƒæ•´é™åˆ¶
openclaw config set tools.media.image.maxBytes 20971520  # 20MB
openclaw config set tools.media.audio.maxBytes 52428800  # 50MB
openclaw config set tools.media.video.maxBytes 104857600  # 100MB
```

### æ¨¡å‹é”™è¯¯

```bash
# æµ‹è¯• API
curl -X POST "https://api.openai.com/v1/chat/completions" \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -d '{"model":"gpt-4o","messages":[{"role":"user","content":[{"type":"text","text":"æè¿°è¿™å¼ å›¾ç‰‡"},{"type":"image_url","image_url":{"url":"https://example.com/image.jpg"}}]}]}'
```

---

## ğŸ“ˆ çŠ¶æ€è¾“å‡º

æ‰§è¡Œåª’ä½“ç†è§£æ—¶ï¼Œ`/status` è¾“å‡ºæ‘˜è¦ï¼š

```bash
openclaw status
# è¾“å‡ºç¤ºä¾‹ï¼š
# ğŸ“ Media: image ok (openai/gpt-4o) Â· audio skipped (maxBytes)
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å›¾ç‰‡ä¸åª’ä½“æ”¯æŒ](/zh-CN/nodes/images) - åª’ä½“å¤„ç†æ¦‚è¿°
- [éŸ³é¢‘å¤„ç†](/zh-CN/nodes/audio) - éŸ³é¢‘è½¬å½•
- [ç›¸æœºæ•è·](/zh-CN/nodes/camera) - å›¾åƒæ•è·
- [é…ç½®å‚è€ƒ](/zh-CN/config/reference) - å®Œæ•´é…ç½®é€‰é¡¹

---

**åª’ä½“ç†è§£è®© AI èƒ½å¤Ÿ"çœ‹æ‡‚"å’Œ"å¬æ‡‚"ç”¨æˆ·åˆ†äº«çš„å†…å®¹ï¼** ğŸ¦
