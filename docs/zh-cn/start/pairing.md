---
summary: "é…å¯¹ä¸å®‰å…¨æœºåˆ¶è¯¦è§£ - DM å®‰å…¨ã€å®¡æ‰¹æµç¨‹å’Œè®¿é—®æ§åˆ¶"
read_when:
  - ç†è§£ DM å®‰å…¨ç­–ç•¥
  - é…ç½®é…å¯¹å®¡æ‰¹
  - è®¾ç½®è®¿é—®æ§åˆ¶
title: "é…å¯¹ä¸å®‰å…¨"
---

# ğŸ” é…å¯¹ä¸å®‰å…¨

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç» OpenClaw çš„é…å¯¹æœºåˆ¶å’Œå®‰å…¨ç­–ç•¥ï¼Œå¸®åŠ©æ‚¨ç†è§£å¦‚ä½•å®‰å…¨åœ°æ§åˆ¶ AI åŠ©æ‰‹çš„æ¶ˆæ¯æ¥æ”¶ã€‚

## ğŸ¯ ä»€ä¹ˆæ˜¯é…å¯¹ï¼Ÿ

**é…å¯¹ï¼ˆPairingï¼‰** æ˜¯ OpenClaw çš„æ ¸å¿ƒå®‰å…¨æœºåˆ¶ï¼Œç”¨äºæ§åˆ¶è°å¯ä»¥å‘æ‚¨çš„ AI åŠ©æ‰‹å‘é€ç§ä¿¡ï¼ˆDMï¼‰ã€‚

### ä¸ºä»€ä¹ˆéœ€è¦é…å¯¹ï¼Ÿ

æƒ³è±¡ä¸€ä¸‹æ‚¨çš„ AI åŠ©æ‰‹æ˜¯ä¸€ä¸ª**æ™ºèƒ½åŠ©ç†åŠå…¬å®¤**ï¼š

```
æ²¡æœ‰é…å¯¹ = ä»»ä½•äººéƒ½å¯ä»¥ç›´æ¥é—¯å…¥åŠå…¬å®¤
æœ‰é…å¯¹ = é™Œç”Ÿäººéœ€è¦å…ˆæ•²é—¨ï¼Œæ‚¨åŒæ„åæ‰èƒ½è¿›å…¥
```

é…å¯¹æœºåˆ¶ä¿æŠ¤æ‚¨å…å—ï¼š
- åƒåœ¾æ¶ˆæ¯å’Œéªšæ‰°
- æ¶æ„æç¤ºè¯æ³¨å…¥æ”»å‡»
- æœªç»æˆæƒçš„æ¶ˆæ¯å‘é€

---

## ğŸ”§ é…å¯¹ç­–ç•¥é…ç½®

### ç­–ç•¥ç±»å‹

åœ¨é…ç½®ä¸­è®¾ç½® `dmPolicy` æ¥æ§åˆ¶ç§ä¿¡ç­–ç•¥ï¼š

```json5
{
  channels: {
    whatsapp: {
      dmPolicy: "pairing"  // pairing | allowlist | open | disabled
    }
  }
}
```

| ç­–ç•¥ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| **`pairing`** | æœªçŸ¥ç”¨æˆ·éœ€è¦é…å¯¹å®¡æ‰¹ï¼ˆ**æ¨è**ï¼‰ | å¤§å¤šæ•°åœºæ™¯ |
| **`allowlist`** | ä»…å…è®¸ç™½åå•ç”¨æˆ· | å—æ§ç¯å¢ƒ |
| **`open`** | å…è®¸æ‰€æœ‰ç”¨æˆ· | éœ€è¦å¼€æ”¾è®¿é—® |
| **`disabled`** | ç¦ç”¨æ‰€æœ‰ç§ä¿¡ | çº¯ç¾¤ç»„ä½¿ç”¨ |

### å„æ¸ é“é…ç½®

**Telegramï¼š**
```json5
{
  channels: {
    telegram: {
      dmPolicy: "pairing",
      allowFrom: ["@trusted-user"]  // å§‹ç»ˆå…è®¸çš„ç”¨æˆ·
    }
  }
}
```

**Discordï¼š**
```json5
{
  channels: {
    discord: {
      dm: {
        enabled: true,
        policy: "pairing",
        allowFrom: ["123456789"]  // ç”¨æˆ· ID
      }
    }
  }
}
```

**Slackï¼š**
```json5
{
  channels: {
    slack: {
      dm: {
        enabled: true,
        policy: "pairing"
      }
    }
  }
}
```

---

## âœ… é…å¯¹å®¡æ‰¹æµç¨‹

### å®¡æ‰¹æµç¨‹å›¾

```
é™Œç”Ÿäººå‘é€æ¶ˆæ¯
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ£€æŸ¥é…å¯¹ç­–ç•¥ â”‚ â”€â”€â†’ ç™½åå•ç”¨æˆ· â”€â”€â†’ âœ… ç›´æ¥å¤„ç†
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼ï¼ˆæœªçŸ¥ç”¨æˆ·ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”Ÿæˆé…å¯¹ç   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‘é€é…å¯¹ç   â”‚ â”€â”€â†’ ç”¨æˆ·é€šè¿‡å…¶ä»–æ¸ é“æ”¶åˆ°é…å¯¹ç 
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç­‰å¾…å®¡æ‰¹    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
ç®¡ç†å‘˜å®¡æ‰¹é…å¯¹ç 
     â”‚
     â”œâ”€â”€ æ‰¹å‡† â”€â”€â†’ âœ… ç”¨æˆ·åŠ å…¥ç™½åå•ï¼Œåç»­æ¶ˆæ¯ç›´æ¥å¤„ç†
     â”‚
     â””â”€â”€ æ‹’ç» â”€â”€â†’ âŒ ç”¨æˆ·æ— æ³•å‘é€æ¶ˆæ¯
```

### æŸ¥çœ‹å¾…å®¡æ‰¹åˆ—è¡¨

```bash
# æŸ¥çœ‹æ‰€æœ‰æ¸ é“çš„å¾…å®¡æ‰¹é…å¯¹
openclaw pairing list

# æŸ¥çœ‹ç‰¹å®šæ¸ é“
openclaw pairing list whatsapp
openclaw pairing list telegram
openclaw pairing list discord
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
å¾…å®¡æ‰¹é…å¯¹è¯·æ±‚ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¸ é“       â”‚ é…å¯¹ç               â”‚ æ—¶é—´             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ whatsapp   â”‚ ABC123XYZ           â”‚ 2024-01-15 10:30 â”‚
â”‚ telegram   â”‚ DEF456UVW           â”‚ 2024-01-15 11:45 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ‰¹å‡†é…å¯¹

```bash
# æ‰¹å‡†é…å¯¹
openclaw pairing approve whatsapp ABC123XYZ

# æ‰¹å‡†å¹¶æ·»åŠ å¤‡æ³¨
openclaw pairing approve telegram DEF456UVW --note "åŒäº‹å¼ ä¸‰"
```

### æ‹’ç»é…å¯¹

```bash
# æ‹’ç»é…å¯¹
openclaw pairing reject whatsapp ABC123XYZ

# æ‹’ç»å¹¶è¯´æ˜åŸå› 
openclaw pairing reject telegram DEF456UVW --reason "ä¸è®¤è¯†æ­¤äºº"
```

### æŸ¥çœ‹å®¡æ‰¹å†å²

```bash
# æŸ¥çœ‹å·²å®¡æ‰¹çš„ç”¨æˆ·
openclaw pairing approved

# æŸ¥çœ‹å·²æ‹’ç»çš„ç”¨æˆ·
openclaw pairing rejected
```

---

## ğŸ‘¥ ç™½åå•ç®¡ç†

### æ‰‹åŠ¨æ·»åŠ ç™½åå•

```bash
# æ·»åŠ ç”¨æˆ·åˆ°ç™½åå•
openclaw pairing allow whatsapp +15551234567
openclaw pairing allow telegram @username
openclaw pairing allow discord 123456789

# æ‰¹é‡æ·»åŠ 
openclaw pairing allow whatsapp +15551234567,+15559876543
```

### æŸ¥çœ‹ç™½åå•

```bash
# æŸ¥çœ‹ç™½åå•
openclaw pairing whitelist

# æŸ¥çœ‹ç‰¹å®šæ¸ é“
openclaw pairing whitelist whatsapp
```

### ä»ç™½åå•ç§»é™¤

```bash
# ç§»é™¤ç”¨æˆ·
openclaw pairing unallow whatsapp +15551234567
```

### ç™½åå•æ ¼å¼

| æ¸ é“ | æ ¼å¼ç¤ºä¾‹ | è¯´æ˜ |
|------|----------|------|
| WhatsApp | `+15551234567` | ç”µè¯å·ç  |
| Telegram | `@username` æˆ– `tg:123456789` | ç”¨æˆ·åæˆ– ID |
| Discord | `123456789` | ç”¨æˆ· ID |
| Slack | `U12345678` | ç”¨æˆ· ID |

---

## ğŸ”’ é«˜çº§å®‰å…¨é…ç½®

### ç¾¤ç»„å®‰å…¨

ç¾¤ç»„æ¶ˆæ¯é»˜è®¤ä¸éœ€è¦é…å¯¹ï¼Œä½†å¯ä»¥é…ç½®ï¼š

```json5
{
  channels: {
    whatsapp: {
      groupPolicy: "allowlist",
      groups: {
        "*": { requireMention: true }  // ç¾¤ç»„éœ€è¦ @æåŠ
      }
    }
  }
}
```

### æ•æ„Ÿé…ç½®ä¿æŠ¤

```json5
{
  channels: {
    telegram: {
      // ä»…å…è®¸ç‰¹å®šç”¨æˆ·å‘é€æ•æ„Ÿå‘½ä»¤
      allowFrom: ["@admin", "@trusted-user"],
      
      // é™åˆ¶å¯è®¿é—®çš„ç¾¤ç»„
      groups: {
        "-1001234567890": {  // ç¾¤ç»„ ID
          allowFrom: ["@admin"]
        }
      }
    }
  }
}
```

### IP ç™½åå•ï¼ˆé«˜çº§ï¼‰

å¯¹äºé€šè¿‡ API è®¿é—®çš„åœºæ™¯ï¼š

```json5
{
  gateway: {
    auth: {
      ipWhitelist: [
        "127.0.0.1",
        "192.168.1.0/24"
      ]
    }
  }
}
```

---

## ğŸ“Š å®‰å…¨å®¡è®¡

### æŸ¥çœ‹å®‰å…¨çŠ¶æ€

```bash
# åŸºæœ¬å®‰å…¨çŠ¶æ€
openclaw security status

# æ·±åº¦å®‰å…¨å®¡è®¡
openclaw security audit --deep
```

### å®‰å…¨æ£€æŸ¥æ¸…å•

```bash
# è¿è¡Œå®Œæ•´æ£€æŸ¥
openclaw security audit

# æ£€æŸ¥é¡¹åŒ…æ‹¬ï¼š
# - dmPolicy é…ç½®
# - ç™½åå•çŠ¶æ€
# - é…å¯¹å¾…å®¡æ‰¹æ•°é‡
# - å¼‚å¸¸æ´»åŠ¨æ£€æµ‹
```

### æŸ¥çœ‹é…å¯¹ç»Ÿè®¡

```bash
# é…å¯¹ç»Ÿè®¡
openclaw pairing stats

# è¾“å‡ºç¤ºä¾‹ï¼š
# å¾…å®¡æ‰¹: 2
# å·²æ‰¹å‡†: 15
# å·²æ‹’ç»: 3
# ç™½åå•ç”¨æˆ·: 12
```

---

## ğŸš¨ å®‰å…¨äº‹ä»¶å¤„ç†

### æ”¶åˆ°å¯ç–‘é…å¯¹è¯·æ±‚

1. **ä¸è¦æ€¥äºæ‰¹å‡†** - ç¡®è®¤å¯¹æ–¹èº«ä»½
2. **é€šè¿‡å…¶ä»–æ¸ é“éªŒè¯** - ç”µè¯ã€é‚®ä»¶ç­‰
3. **è®°å½•æ—¥å¿—** - ä¾¿äºåç»­å®¡è®¡

### æ£€æµ‹åˆ°æ»¥ç”¨

```bash
# æŸ¥çœ‹æœ€è¿‘æ¶ˆæ¯
openclaw logs --lines 200 | grep "pairing"

# æŸ¥çœ‹ç”¨æˆ·æ´»åŠ¨
openclaw sessions list
```

### ç´§æ€¥æªæ–½

```bash
# ç¦ç”¨æ‰€æœ‰ç§ä¿¡
openclaw config set channels.whatsapp.dmPolicy disabled

# æ¸…ç©ºç™½åå•
openclaw pairing clear

# æŸ¥çœ‹æ”»å‡»æ¥æº
openclaw logs --lines 500 | grep "blocked"
```

---

## âš™ï¸ è‡ªåŠ¨åŒ–é…å¯¹ï¼ˆé«˜çº§ï¼‰

### ç‰¹å®šæ¡ä»¶è‡ªåŠ¨æ‰¹å‡†

å¯ä»¥é€šè¿‡é…ç½®å®ç°ç‰¹å®šæ¡ä»¶è‡ªåŠ¨æ‰¹å‡†ï¼š

```json5
{
  channels: {
    telegram: {
      dmPolicy: "pairing",
      autoApprove: {
        // æ¥è‡ªç‰¹å®šç¾¤ç»„çš„æˆå‘˜è‡ªåŠ¨æ‰¹å‡†
        fromGroups: ["-1001234567890"],
        // ä½¿ç”¨ç‰¹å®šå…³é”®è¯éªŒè¯
        verificationKeywords: ["æ¥è‡ªæŠ€æœ¯ç¾¤"]
      }
    }
  }
}
```

### é…å¯¹ç è¿‡æœŸ

é…ç½®é…å¯¹ç çš„æœ‰æ•ˆæœŸï¼š

```json5
{
  channels: {
    telegram: {
      pairingCodeExpiry: "24h"  // 24å°æ—¶åè¿‡æœŸ
    }
  }
}
```

---

## ğŸ“ æœ€ä½³å®è·µ

### æ¨èé…ç½®

```json5
{
  channels: {
    // WhatsApp
    whatsapp: {
      dmPolicy: "pairing",
      allowFrom: ["+15551234567"]  // æ·»åŠ ä¿¡ä»»çš„è”ç³»äºº
    },
    
    // Telegram
    telegram: {
      dmPolicy: "pairing",
      allowFrom: ["@my-account"]  // æ·»åŠ è‡ªå·±çš„ç”¨æˆ·å
    },
    
    // Discord
    discord: {
      dm: {
        policy: "pairing",
        allowFrom: []  // å¯ç•™ç©º
      }
    }
  }
}
```

### å®‰å…¨å»ºè®®

1. **å§‹ç»ˆä½¿ç”¨ `pairing` ç­–ç•¥** - é™¤éæœ‰å……åˆ†ç†ç”±
2. **å®šæœŸå®¡æŸ¥ç™½åå•** - ç§»é™¤ä¸æ´»è·ƒç”¨æˆ·
3. **å¯ç”¨æ—¥å¿—è®°å½•** - ä¾¿äºå®¡è®¡å’Œè¿½è¸ª
4. **è®¾ç½®é…å¯¹ç è¿‡æœŸ** - é˜²æ­¢è¿‡æœŸé…å¯¹ç è¢«åˆ©ç”¨
5. **æ•™è‚²ç”¨æˆ·** - è®©ä»–ä»¬äº†è§£é…å¯¹æœºåˆ¶

---

## ğŸ”§ ç›¸å…³å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `openclaw pairing list` | æŸ¥çœ‹å¾…å®¡æ‰¹é…å¯¹ |
| `openclaw pairing approve <code>` | æ‰¹å‡†é…å¯¹ |
| `openclaw pairing reject <code>` | æ‹’ç»é…å¯¹ |
| `openclaw pairing allow <user>` | æ·»åŠ åˆ°ç™½åå• |
| `openclaw pairing unallow <user>` | ä»ç™½åå•ç§»é™¤ |
| `openclaw pairing whitelist` | æŸ¥çœ‹ç™½åå• |
| `openclaw pairing stats` | é…å¯¹ç»Ÿè®¡ |
| `openclaw security audit` | å®‰å…¨å®¡è®¡ |

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ–°æ‰‹ä¸Šè·¯](/zh-CN/start/getting-started) - åˆå§‹é…ç½®
- [æ¸ é“é…ç½®](/zh-CN/channels) - å„æ¸ é“è¯¦ç»†é…ç½®
- [CLI å‚è€ƒ](/zh-CN/cli) - æ‰€æœ‰å‘½ä»¤
- [æ•…éšœæ’é™¤](/zh-CN/help/troubleshooting) - é—®é¢˜è§£å†³

---

**å®‰å…¨æ˜¯ OpenClaw çš„é¦–è¦è€ƒè™‘ã€‚åˆç†é…ç½®é…å¯¹æœºåˆ¶ï¼Œä¿æŠ¤æ‚¨çš„ AI åŠ©æ‰‹ï¼** ğŸ¦
