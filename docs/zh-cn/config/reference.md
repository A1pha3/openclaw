---
summary: "OpenClaw é…ç½®å‚è€ƒ - å®Œæ•´é…ç½®é€‰é¡¹åŒ…æ‹¬ä»£ç†ã€è·¯ç”±ç»‘å®šã€æ¸ é“ã€ç½‘å…³ã€æ¶ˆæ¯ã€æ—¥å¿—ã€å·¥å…·ã€æ¨¡å‹ã€è®¤è¯ç­‰"
read_when:
  - éœ€è¦æŸ¥æ‰¾ç‰¹å®šé…ç½®é¡¹æ—¶
  - é…ç½®å‡ºç°é—®é¢˜éœ€è¦è°ƒè¯•æ—¶
  - äº†è§£å®Œæ•´é…ç½®ç»“æ„æ—¶
title: "é…ç½®å‚è€ƒ"
---

# é…ç½®å‚è€ƒ

## å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬ç« èŠ‚å­¦ä¹ åï¼Œä½ å°†èƒ½å¤Ÿï¼š

### åŸºç¡€ç›®æ ‡ï¼ˆå¿…æŒæ¡ï¼‰

- [ ] ç†è§£é…ç½®æ–‡ä»¶çš„æ•´ä½“ç»“æ„
- [ ] æŒæ¡æ ¸å¿ƒé…ç½®å—çš„ä½œç”¨
- [ ] æŸ¥æ‰¾å’Œç†è§£ç‰¹å®šé…ç½®é¡¹
- [ ] å®Œæˆæ ‡å‡†é…ç½®

### è¿›é˜¶ç›®æ ‡ï¼ˆå»ºè®®æŒæ¡ï¼‰

- [ ] é…ç½®å¤šæ¸ é“å’Œå¤šä»£ç†
- [ ] ä¼˜åŒ–æ¶ˆæ¯å¤„ç†å’Œè·¯ç”±
- [ ] é…ç½®å·¥å…·å’Œæƒé™

### ä¸“å®¶ç›®æ ‡ï¼ˆæŒ‘æˆ˜ï¼‰

- [ ] è®¾è®¡å¤æ‚çš„é…ç½®æ¶æ„
- [ ] è‡ªå®šä¹‰é…ç½®éªŒè¯
- [ ] ä¼˜åŒ–å¤§è§„æ¨¡éƒ¨ç½²é…ç½®

---

## ä¸ºä»€ä¹ˆéœ€è¦é…ç½®å‚è€ƒï¼Ÿ

æœ¬å‚è€ƒæ–‡æ¡£æä¾› OpenClaw æ‰€æœ‰é…ç½®é¡¹çš„è¯¦ç»†è¯´æ˜ã€‚åœ¨å®é™…é…ç½®ä¸­ï¼Œä½ ä¼šç»å¸¸éœ€è¦æŸ¥é˜…ç‰¹å®šé…ç½®é¡¹çš„ä½œç”¨å’Œæœ‰æ•ˆå€¼ã€‚æœ¬æ–‡æ¡£å¸®åŠ©ä½ å¿«é€Ÿå®šä½å’Œç†è§£é…ç½®é¡¹ã€‚

### é…ç½®ç»“æ„æ¦‚è§ˆ

```
OpenClaw é…ç½®
    â”‚
    â”œâ”€â”€ agents          â†’ AI ä»£ç†é…ç½®
    â”œâ”€â”€ bindings        â†’ æ¶ˆæ¯è·¯ç”±ç»‘å®š
    â”œâ”€â”€ channels        â†’ æ¶ˆæ¯æ¸ é“é…ç½®
    â”œâ”€â”€ gateway        â†’ ç½‘å…³æœåŠ¡é…ç½®
    â”œâ”€â”€ messages       â†’ æ¶ˆæ¯å¤„ç†é…ç½®
    â”œâ”€â”€ logging        â†’ æ—¥å¿—é…ç½®
    â”œâ”€â”€ tools          â†’ å·¥å…·é…ç½®
    â”œâ”€â”€ models         â†’ æ¨¡å‹æä¾›å•†é…ç½®
    â”œâ”€â”€ auth           â†’ è®¤è¯é…ç½®
    â”œâ”€â”€ env            â†’ ç¯å¢ƒå˜é‡é…ç½®
    â”œâ”€â”€ commands       â†’ èŠå¤©å‘½ä»¤é…ç½®
    â””â”€â”€ session        â†’ ä¼šè¯é…ç½®
```

---

## æ ¸å¿ƒæ¦‚å¿µé€ŸæŸ¥

| é…ç½®å— | å¿…éœ€æ€§ | ä¸»è¦ä½œç”¨ | å¤æ‚åº¦ |
|-------|-------|---------|-------|
| agents | âœ… | å®šä¹‰ AI ä»£ç†è¡Œä¸º | â­â­ |
| bindings | â­ | æ¶ˆæ¯è·¯ç”±è§„åˆ™ | â­â­ |
| channels | âœ… | æ¸ é“è¿æ¥é…ç½® | â­â­â­ |
| gateway | â­ | ç½‘å…³æœåŠ¡è®¾ç½® | â­ |
| messages | â­ | æ¶ˆæ¯å¤„ç†è§„åˆ™ | â­â­ |
| logging | â­ | æ—¥å¿—è¾“å‡ºé…ç½® | â­ |
| tools | â­ | å·¥å…·æƒé™é…ç½® | â­â­ |
| models | â­ | æ¨¡å‹ API é…ç½® | â­â­ |
| auth | â­ | è®¤è¯ç­–ç•¥é…ç½® | â­â­ |
| env | â­ | ç¯å¢ƒå˜é‡æ³¨å…¥ | â­ |
| commands | â­ | èŠå¤©å‘½ä»¤é…ç½® | â­ |
| session | â­ | ä¼šè¯è¡Œä¸ºé…ç½® | â­ |

---

## é€‚ç”¨åœºæ™¯åˆ†æ

### åœºæ™¯ä¸€ï¼šå•ä¸€ä»£ç†å•æ¸ é“

**éœ€æ±‚**ï¼šç®€å•çš„ä¸ªäºº AI åŠ©æ‰‹

**å¿…éœ€é…ç½®**ï¼š

```
agents + channelsï¼ˆè‡³å°‘ä¸€ä¸ªæ¸ é“ï¼‰
```

### åœºæ™¯äºŒï¼šå¤šä»£ç†å¤šæ¸ é“

**éœ€æ±‚**ï¼šå›¢é˜Ÿåä½œæˆ–åŠŸèƒ½åˆ†ç¦»

**å¿…éœ€é…ç½®**ï¼š

```
agentsï¼ˆå¤šä¸ªä»£ç†ï¼‰+ bindingsï¼ˆè·¯ç”±è§„åˆ™ï¼‰+ channelsï¼ˆå¤šä¸ªæ¸ é“ï¼‰
```

### åœºæ™¯ä¸‰ï¼šä¼ä¸šçº§éƒ¨ç½²

**éœ€æ±‚**ï¼šå¤æ‚ç¯å¢ƒçš„é«˜çº§é…ç½®

**å»ºè®®é…ç½®**ï¼š

```
æ‰€æœ‰é…ç½®å—ï¼ˆæŒ‰éœ€ï¼‰
```

---

## ä¸“å®¶æ€ç»´æ¨¡å‹ï¼šé…ç½®æŸ¥æ‰¾æ¡†æ¶

å½“éœ€è¦æŸ¥æ‰¾ç‰¹å®šé…ç½®æ—¶ï¼Œä¸“å®¶ä¼šé‡‡ç”¨ä»¥ä¸‹æ€ç»´æ¡†æ¶ï¼š

### é…ç½®æŸ¥æ‰¾æµç¨‹

```
éœ€è¦é…ç½® â†’ ç¡®å®šåŠŸèƒ½åŸŸ â†’ æ‰¾åˆ°å¯¹åº”é…ç½®å— â†’ æŸ¥æ‰¾å…·ä½“é…ç½®é¡¹ â†’ é…ç½®ç”Ÿæ•ˆ
```

### åŠŸèƒ½åŸŸå¯¹åº”å…³ç³»

| åŠŸèƒ½éœ€æ±‚ | å¯¹åº”é…ç½®å— |
|---------|-----------|
| AI è¡Œä¸ºè®¾ç½® | agents |
| æ¶ˆæ¯è·¯ç”± | bindings |
| æ¸ é“è¿æ¥ | channels |
| æœåŠ¡ç«¯å£ | gateway |
| å“åº”æ ¼å¼ | messages |
| æ—¥å¿—è¾“å‡º | logging |
| å·¥å…·æƒé™ | tools |
| API é…ç½® | models |
| è®¤è¯æ–¹å¼ | auth |
| æ•æ„Ÿä¿¡æ¯ | env |
| èŠå¤©å‘½ä»¤ | commands |

---

## agents - ä»£ç†é…ç½®

### agents.defaults

å…¨å±€ä»£ç†é»˜è®¤å€¼ï¼Œåº”ç”¨äºæ‰€æœ‰æœªå•ç‹¬é…ç½®çš„ä»£ç†ï¼š

```json5
{
  agents: {
    defaults: {
      workspace: "~/clawd",           // å·¥ä½œåŒºç›®å½•
      model: "anthropic/claude-sonnet-4-20250514",  // é»˜è®¤æ¨¡å‹
      repoRoot: "~/Projects/repo",    // ä»“åº“æ ¹ç›®å½•ï¼ˆå¯é€‰ï¼‰
      skipBootstrap: false,           // è·³è¿‡å·¥ä½œåŒºåˆå§‹åŒ–
      bootstrapMaxChars: 20000,       // å·¥ä½œåŒºæ–‡ä»¶æœ€å¤§å­—ç¬¦
      userTimezone: "Asia/Shanghai",  // ç”¨æˆ·æ—¶åŒº
      timeFormat: "auto",             // æ—¶é—´æ ¼å¼ (auto | 12 | 24)
      
      // æ²™ç®±é…ç½®
      sandbox: {
        mode: "non-main",        // off | non-main | all
        scope: "session",        // session | agent | shared
        workspaceAccess: "rw",   // none | ro | rw
        workspaceRoot: "~/.clawdbot/sandboxes",
        docker: {
          image: "openclaw-sandbox:latest",
          cpuLimit: "2",
          memoryLimit: "2g"
        }
      }
    }
  }
}
```

### agents.list

ä»£ç†åˆ—è¡¨ï¼Œå®šä¹‰å…·ä½“çš„ä»£ç†å®ä¾‹ï¼š

```json5
{
  agents: {
    list: [
      {
        id: "main",               // å”¯ä¸€æ ‡è¯†ï¼ˆå¿…éœ€ï¼‰
        default: true,            // æ˜¯å¦ä¸ºé»˜è®¤ä»£ç†
        name: "Main Agent",       // æ˜¾ç¤ºåç§°
        workspace: "~/clawd",    // å·¥ä½œåŒºï¼ˆè¦†ç›– defaultsï¼‰
        agentDir: "~/.clawdbot/agents/main/agent",
        model: "anthropic/claude-opus-4-20250514",
        
        // èº«ä»½é…ç½®
        identity: {
          name: "Clawd",
          emoji: "ğŸ¦",
          theme: "helpful assistant",
          avatar: "avatars/clawd.png"
        },
        
        // ç¾¤ç»„èŠå¤©é…ç½®
        groupChat: {
          mentionPatterns: ["@clawd", "å°åŠ©æ‰‹"]
        },
        
        // æ²™ç®±è¦†ç›–
        sandbox: {
          mode: "off"
        },
        
        // å·¥å…·é™åˆ¶
        tools: {
          allow: ["read", "write", "exec"],
          deny: ["browser"]
        },
        
        // å­ä»£ç†é…ç½®
        subagents: {
          allowAgents: ["helper"]
        }
      }
    ]
  }
}
```

### æ²™ç®±æ¨¡å¼è¯´æ˜

| æ¨¡å¼ | æè¿° | é€‚ç”¨åœºæ™¯ |
|-----|------|---------|
| off | ä¸ä½¿ç”¨æ²™ç®± | æœ¬åœ°å¼€å‘ã€ä¸ªäººä½¿ç”¨ |
| non-main | ä»…éä¸»ä¼šè¯ä½¿ç”¨æ²™ç®± | ç¾¤ç»„éš”ç¦»ã€å›¢é˜Ÿä½¿ç”¨ |
| all | æ‰€æœ‰ä¼šè¯ä½¿ç”¨æ²™ç®± | é«˜å®‰å…¨è¦æ±‚ç¯å¢ƒ |

---

## bindings - è·¯ç”±ç»‘å®š

é…ç½®æ¶ˆæ¯è·¯ç”±è§„åˆ™ï¼Œå°†ä¸åŒæ¥æºçš„æ¶ˆæ¯è·¯ç”±åˆ°ä¸åŒçš„ä»£ç†ï¼š

```json5
{
  bindings: [
    {
      agentId: "main",
      match: {
        channel: "whatsapp",       // å¿…éœ€ï¼šæ¸ é“ç±»å‹
        accountId: "default",      // å¯é€‰ï¼šè´¦æˆ·æ ‡è¯†
        peer: {                    // å¯é€‰ï¼šæ¶ˆæ¯æ¥æº
          kind: "dm",              // dm | group | channel
          id: "+15555550123"
        },
        guildId: "123456",         // Discord æœåŠ¡å™¨
        teamId: "team-uuid"        // Teams å›¢é˜Ÿ
      }
    }
  ]
}
```

### åŒ¹é…è§„åˆ™ä¼˜å…ˆçº§

1. ç²¾ç¡®åŒ¹é…ï¼ˆæœ€é«˜ï¼‰
2. é€šé…ç¬¦åŒ¹é…
3. é»˜è®¤è§„åˆ™ï¼ˆæœ€ä½ï¼‰

---

## channels - æ¸ é“é…ç½®

### é€šç”¨é€‰é¡¹

```json5
{
  channels: {
    defaults: {
      groupPolicy: "allowlist"   // allowlist | open | disabled
    }
  }
}
```

### channels.whatsapp

```json5
{
  channels: {
    whatsapp: {
      enabled: true,
      dmPolicy: "pairing",
      allowFrom: ["+15555550123"],
      groupPolicy: "allowlist",
      groupAllowFrom: ["+15555550123"],
      groups: {
        "*": { requireMention: true }
      },
      accounts: {
        default: {},
        business: {}
      },
      textChunkLimit: 4000,
      chunkMode: "length",
      mediaMaxMb: 50,
      sendReadReceipts: true
    }
  }
}
```

### channels.telegram

```json5
{
  channels: {
    telegram: {
      enabled: true,
      botToken: "${TELEGRAM_BOT_TOKEN}",
      dmPolicy: "pairing",
      allowFrom: ["tg:123456789"],
      groups: {
        "*": { requireMention: true }
      },
      customCommands: [
        { command: "help", description: "å¸®åŠ©" }
      ],
      historyLimit: 50,
      replyToMode: "first",
      linkPreview: true,
      streamMode: "partial",
      actions: { reactions: true, sendMessage: true },
      reactionNotifications: "own",
      mediaMaxMb: 5
    }
  }
}
```

### channels.discord

```json5
{
  channels: {
    discord: {
      enabled: true,
      token: "${DISCORD_BOT_TOKEN}",
      mediaMaxMb: 8,
      allowBots: false,
      dm: {
        enabled: true,
        policy: "pairing",
        allowFrom: ["123456789"],
        groupEnabled: false
      },
      guilds: {
        "123456789012345678": {
          slug: "my-server",
          requireMention: false,
          channels: {
            general: { allow: true },
            help: { allow: true, requireMention: true }
          }
        }
      },
      historyLimit: 20,
      textChunkLimit: 2000,
      replyToMode: "off",
      actions: {
        reactions: true,
        messages: true
      }
    }
  }
}
```

### channels.slack

```json5
{
  channels: {
    slack: {
      enabled: true,
      botToken: "${SLACK_BOT_TOKEN}",
      appToken: "${SLACK_APP_TOKEN}",
      dm: {
        enabled: true,
        policy: "pairing"
      },
      channels: {
        "#general": { allow: true, requireMention: true }
      },
      historyLimit: 50,
      allowBots: false,
      reactionNotifications: "own",
      thread: {
        historyScope: "thread",
        inheritParent: false
      }
    }
  }
}
```

---

## gateway - ç½‘å…³é…ç½®

```json5
{
  gateway: {
    bind: "loopback",      // loopback | tailnet | lan | <ip>
    port: 18789,
    auth: {
      token: "${CLAWDBOT_GATEWAY_TOKEN}"
    },
    canvasHost: {
      enabled: true,
      port: 18793
    }
  }
}
```

### bind é€‰é¡¹è¯´æ˜

| å€¼ | æè¿° | é€‚ç”¨åœºæ™¯ |
|---|------|---------|
| loopback | ä»…æœ¬åœ°è®¿é—® | æœ¬åœ°å¼€å‘ã€ä¸ªäººä½¿ç”¨ |
| tailnet | Tailscale ç½‘ç»œ | è¿œç¨‹è®¿é—®ã€å®‰å…¨ç½‘ç»œ |
| lan | æœ¬åœ°ç½‘ç»œ | å±€åŸŸç½‘éƒ¨ç½² |
| <ip> | ç‰¹å®š IP | å®šåˆ¶éƒ¨ç½² |

---

## messages - æ¶ˆæ¯é…ç½®

```json5
{
  messages: {
    responsePrefix: "ğŸ¦",      // æˆ– "auto"
    ackReaction: "ğŸ‘€",
    ackReactionScope: "group-mentions",
    removeAckAfterReply: false,
    
    groupChat: {
      historyLimit: 50
    },
    
    queue: {
      mode: "collect",
      debounceMs: 1000,
      cap: 20,
      drop: "summarize"
    },
    
    inbound: {
      debounceMs: 2000,
      byChannel: {
        whatsapp: 5000
      }
    },
    
    tts: {
      enabled: false,
      provider: "elevenlabs",
      voiceId: "..."
    }
  }
}
```

---

## logging - æ—¥å¿—é…ç½®

```json5
{
  logging: {
    level: "info",                    // debug | info | warn | error
    file: "/tmp/openclaw/openclaw.log",
    consoleLevel: "info",
    consoleStyle: "pretty",           // pretty | compact | json
    redactSensitive: "tools",         // off | tools
    redactPatterns: [
      "\\bsk-[A-Za-z0-9_-]{8,}\\b"    // æ•æ„Ÿä¿¡æ¯è„±æ•
    ]
  }
}
```

### æ—¥å¿—çº§åˆ«è¯´æ˜

| çº§åˆ« | æè¿° | é€‚ç”¨åœºæ™¯ |
|-----|------|---------|
| debug | è¯¦ç»†è°ƒè¯•ä¿¡æ¯ | å¼€å‘è°ƒè¯• |
| info | ä¸€èˆ¬ä¿¡æ¯ | æ—¥å¸¸ç›‘æ§ |
| warn | è­¦å‘Šä¿¡æ¯ | é—®é¢˜æ’æŸ¥ |
| error | é”™è¯¯ä¿¡æ¯ | æ•…éšœå¤„ç† |

---

## tools - å·¥å…·é…ç½®

```json5
{
  tools: {
    elevated: {
      enabled: false,
      allowFrom: {
        whatsapp: ["+15555550123"]
      }
    },
    agentToAgent: {
      enabled: false,
      allow: ["main", "helper"]
    },
    web: {
      search: {
        apiKey: "${BRAVE_SEARCH_API_KEY}"
      }
    }
  }
}
```

---

## models - æ¨¡å‹é…ç½®

```json5
{
  models: {
    providers: {
      openai: {
        apiKey: "${OPENAI_API_KEY}"
      },
      anthropic: {
        apiKey: "${ANTHROPIC_API_KEY}"
      },
      openrouter: {
        apiKey: "${OPENROUTER_API_KEY}"
      },
      custom: {
        baseUrl: "https://api.custom.com/v1",
        apiKey: "${CUSTOM_API_KEY}"
      }
    }
  }
}
```

---

## auth - è®¤è¯é…ç½®

```json5
{
  auth: {
    profiles: {
      "anthropic:me@example.com": {
        provider: "anthropic",
        mode: "oauth",
        email: "me@example.com"
      }
    },
    order: {
      anthropic: ["anthropic:me@example.com"]
    }
  }
}
```

---

## env - ç¯å¢ƒå˜é‡

```json5
{
  env: {
    vars: {
      CUSTOM_VAR: "value"
    },
    shellEnv: {
      enabled: false,
      timeoutMs: 15000
    }
  }
}
```

---

## commands - å‘½ä»¤é…ç½®

```json5
{
  commands: {
    native: "auto",       // auto | true | false
    text: true,           // è§£ææ–œæ å‘½ä»¤
    bash: false,          // å…è®¸ !command
    bashForegroundMs: 2000,
    config: false,        // å…è®¸ /config
    debug: false,        // å…è®¸ /debug
    restart: false,      // å…è®¸ /restart
    useAccessGroups: true
  }
}
```

---

## session - ä¼šè¯é…ç½®

```json5
{
  session: {
    mainKey: "main"       // DM ä¼šè¯åˆå¹¶é”®
  }
}
```

---

## é…ç½®åŒ…å«

```json5
{
  agents: { "$include": "./agents.json5" },
  channels: {
    "$include": [
      "./channels/whatsapp.json5",
      "./channels/telegram.json5"
    ]
  }
}
```

---

## ç¯å¢ƒå˜é‡æ›¿æ¢

```json5
{
  gateway: {
    auth: {
      token: "${CLAWDBOT_GATEWAY_TOKEN}"
    }
  }
}
```

### æ›¿æ¢è§„åˆ™

| è¯­æ³• | è¡Œä¸º |
|-----|------|
| `${VAR}` | æ›¿æ¢ä¸ºå˜é‡å€¼ |
| `${VAR:-default}` | å˜é‡æœªè®¾ç½®æ—¶ä½¿ç”¨é»˜è®¤å€¼ |
| `${VAR?error}` | å˜é‡æœªè®¾ç½®æ—¶æŠ¥é”™ |
| `$${VAR}` | è½¬ä¹‰ï¼Œä¿ç•™ä¸º `${VAR}` |

---

## æ€»ç»“

æœ¬å‚è€ƒæ–‡æ¡£æä¾›äº† OpenClaw æ‰€æœ‰é…ç½®é¡¹çš„è¯¦ç»†è¯´æ˜ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå»ºè®®ï¼š

1. ä»æœ€å°é…ç½®å¼€å§‹ï¼Œé€æ­¥æ·»åŠ 
2. ä½¿ç”¨æ¨¡å—åŒ–é…ç½®ç®¡ç†å¤æ‚è®¾ç½®
3. å–„ç”¨ç¯å¢ƒå˜é‡ä¿æŠ¤æ•æ„Ÿä¿¡æ¯
4. å®šæœŸæ£€æŸ¥é…ç½®æ˜¯å¦éœ€è¦ä¼˜åŒ–

---

## è¿›é˜¶å­¦ä¹ è·¯å¾„

| çº§åˆ« | ä¸»é¢˜ | èµ„æº |
|-----|------|-----|
| â­ | åŸºç¡€é…ç½® | [é…ç½®æ¦‚è¿°](/zh-CN/config/index) |
| â­â­ | é…ç½®ç¤ºä¾‹ | [é…ç½®ç¤ºä¾‹](/zh-CN/config/examples) |
| â­â­â­ | é«˜çº§é…ç½® | [å®‰å…¨é…ç½®](/zh-CN/config/security) |
| â­â­â­â­ | ä¼ä¸šéƒ¨ç½² | [è¿ç»´æŒ‡å—](/zh-CN/operators) |

---

## ç›¸å…³æ–‡æ¡£

- [é…ç½®æ¦‚è¿°](/zh-CN/config/index) - é…ç½®ç³»ç»Ÿä»‹ç»
- [é…ç½®ç¤ºä¾‹](/zh-CN/config/examples) - å®Œæ•´é…ç½®ç¤ºä¾‹
- [CLI å‚è€ƒ](/zh-CN/cli) - å‘½ä»¤è¡Œå·¥å…·
- [æ•…éšœæ’é™¤](/zh-CN/help/troubleshooting) - é—®é¢˜æ’æŸ¥

---

**å®Œæ•´çš„é…ç½®å‚è€ƒå¸®åŠ©ä½ ç²¾å‡†æ§åˆ¶ OpenClaw çš„æ¯ä¸€ä¸ªç»†èŠ‚ï¼** ğŸ¦