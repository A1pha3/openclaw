---
summary: "移动节点完整指南——iOS 和 Android 设备作为 AI 助手节点，提供相机、麦克风、位置和语音等硬件能力"
read_when:
  - 配置 iOS 或 Android 设备作为节点
  - 使用移动设备的相机、麦克风和位置服务
  - 理解节点系统的工作原理
  - 开发和扩展节点功能
title: "移动节点"
---

# 📱 移动节点

移动节点是 OpenClaw 架构中的重要组成部分，它将 iOS 和 Android 设备转变为 AI 助手的"感官延伸"。通过移动节点，AI 代理可以获得**视觉能力**（相机拍照和图像理解）、**听觉能力**（语音输入和语音唤醒）、**感知能力**（GPS 位置信息）以及**语音输出能力**（语音合成）。这些能力让 AI 助手能够真正"看见"和"听见"你的世界，实现更自然、更强大的交互体验。

> **为什么需要移动节点**
>
> 传统的 AI 助手只能通过文字与用户交流，这在很多场景下是不够的。想象一下：你想让 AI 帮你识别某种植物，你需要拍张照片；你想让 AI 在你到家时自动执行某些操作，AI 需要知道你的位置；你想在做饭时免提与 AI 对话，需要语音交互。移动节点正是为了解决这些需求，让 AI 助手从文字世界扩展到物理世界，成为你真正的智能助手。

---

## 🎯 学习目标

完成本章节学习后，你将能够：

### 基础目标（必掌握）

- 理解节点系统的架构和工作原理
- 完成 iOS 或 Android 节点的配置和配对
- 使用节点的相机、麦克风和位置功能
- 配置语音唤醒和语音对话

### 进阶目标（建议掌握）

- 优化节点性能和电池使用
- 配置多个节点的协同工作
- 实现自定义节点功能
- 处理节点连接和断开

### 专家目标（挑战）

- 开发自定义节点类型
- 实现节点间的高级协同
- 设计离线节点功能
- 优化节点安全性和隐私保护

---

## 🗺️ 学习路径

根据你的经验水平和需求，选择最适合的学习路径：

| 学习路径 | 适合人群 | 预计时间 | 核心内容 |
|----------|----------|----------|----------|
| **快速连接** | 首次使用节点 | 20 分钟 | 下载应用，完成基本配对 |
| **功能使用** | 想要使用所有功能 | 1 小时 | 配置相机、语音、位置 |
| **深度定制** | 需要高级配置 | 2 小时 | 性能优化、多节点管理 |
| **开发扩展** | 开发者扩展节点 | 4 小时 | 开发自定义节点功能 |

---

## 🧠 原理解释：节点系统架构

### 节点系统的核心概念

**节点（Node）** 是 OpenClaw 架构中的一个特殊客户端，它与主 Gateway 建立持久连接，并暴露设备的硬件能力。与普通客户端（如 Telegram、WhatsApp 渠道）不同，节点不仅接收消息和发送回复，更重要的是**提供设备能力**——这些能力被抽象为工具，供 AI 代理调用。

**节点架构的关键组件**：

**设备桥接层（Device Bridge Layer）**

设备桥接层是运行在移动设备上的应用程序，负责：管理设备硬件资源（相机、麦克风、GPS 等）；建立与 Gateway 的安全连接；接收和执行来自 Gateway 的命令；将设备状态和传感器数据上报给 Gateway。

**能力抽象层（Capability Abstraction Layer）**

能力抽象层将设备的各种硬件能力抽象为统一接口：相机工具（拍照、录像、实时流）；音频工具（录音、语音识别、语音唤醒）；位置工具（GPS 坐标、位置历史）；显示工具（屏幕截图、通知推送）。

**安全通信层（Secure Communication Layer）**

节点与 Gateway 之间的通信采用端到端加密：使用 TLS 1.3 保护传输层安全；每个节点有唯一的设备证书；配对过程使用 QR 码或临时令牌；敏感操作需要用户确认。

### 节点通信流程

```
┌─────────────────────────────────────────────────────────────────┐
│                        用户场景                                   │
│              用户：帮我看看这是什么植物                            │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                     AI 代理决策                                   │
│         决策：需要使用相机节点拍照识别                            │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                     Gateway 路由                                 │
│         查找在线的相机节点，选择最优节点                          │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                     节点命令下发                                  │
│         发送拍照命令到目标节点                                    │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                     节点执行                                     │
│         设备相机拍照 → 图像处理 → 压缩编码                        │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                     结果返回                                      │
│         图像数据 → Gateway → AI 代理                              │
└─────────────────────────────────────────────────────────────────┐
                              │
                              ▼
┌─────────────────────────────────────────────────────────────────┐
│                     AI 处理                                      │
│         图像识别 → 生成回复                                       │
└─────────────────────────────────────────────────────────────────┘
```

理解这个流程有助于诊断节点问题：如果拍照失败，问题可能出现在任意环节；如果图像质量差，问题可能在节点执行阶段。

---

## 🍎 iOS 节点配置

### 系统要求

**最低要求**：iOS 15.0 或更新版本；iPhone 8 或更新机型；50MB 可用存储空间。

**推荐配置**：iOS 17.0+；iPhone 12 或更新机型；100MB+ 可用存储空间。

### 安装和配置

**步骤一：安装 OpenClaw iOS 应用**

1. 在 App Store 搜索 "OpenClaw"
2. 下载并安装应用
3. 打开应用，接受隐私政策

**步骤二：配对节点**

```bash
# 在 Gateway 端查看配对码
openclaw pairing list

# 或者生成 QR 码
openclaw pairing qr --channel ios
```

**步骤三：在 iOS 设备上配对**

1. 打开 OpenClaw iOS 应用
2. 点击"添加节点"
3. 输入配对码或扫描 QR 码
4. 等待配对完成

### iOS 节点功能

| 功能 | 支持状态 | 说明 |
|------|----------|------|
| **相机拍照** | ✅ 支持 | 支持前置和后置摄像头 |
| **相机录像** | ✅ 支持 | 支持短录像 |
| **实时相机流** | ✅ 支持 | 实时图像传输 |
| **麦克风录音** | ✅ 支持 | 支持语音输入 |
| **语音唤醒** | ✅ 支持 | "Hey OpenClaw" 唤醒 |
| **语音对话** | ✅ 支持 | 实时语音交互 |
| **位置服务** | ✅ 支持 | GPS 坐标获取 |
| **屏幕录制** | ✅ 支持 | 屏幕内容捕获 |
| **通知推送** | ✅ 支持 | 本地通知 |

### 相机配置

```json5
{
  nodes: {
    ios: {
      "<device-id>": {
        enabled: true,
        camera: {
          // 默认摄像头
          defaultCamera: "back",  // back / front
          // 图像质量
          quality: "high",  // low / medium / high
          // 分辨率
          resolution: "1920x1080",
          // 压缩质量（1-100）
          compressionQuality: 85,
          // 是否启用闪光灯
          flash: "auto"
        }
      }
    }
  }
}
```

### 语音配置

```json5
{
  nodes: {
    ios: {
      "<device-id>": {
        voice: {
          // 语音唤醒
          wakeWord: "Hey OpenClaw",
          wakeWordSensitivity: 0.6,
          
          // 语音对话
          continuousMode: true,
          noiseSuppression: true,
          
          // 语音合成
          ttsProvider: "system",  // system / custom
          defaultVoice: "Samantha",
          speechRate: 1.0,
          pitch: 1.0
        }
      }
    }
  }
}
```

### 位置配置

```json5
{
  nodes: {
    ios: {
      "<device-id>": {
        location: {
          // 是否启用位置服务
          enabled: true,
          // 精度级别
          accuracy: "high",  // low / medium / high
          // 更新间隔（秒）
          updateInterval: 60,
          // 是否在后台持续获取
          backgroundUpdates: false
        }
      }
    }
  }
}
```

---

## 🤖 Android 节点配置

### 系统要求

**最低要求**：Android 10.0 (API 29)；设备需支持 Camera2 API；100MB 可用存储空间。

**推荐配置**：Android 13.0+；Google Play 服务可用；200MB+ 可用存储空间。

### 安装和配置

**方法一：Google Play 安装**

1. 在 Google Play 搜索 "OpenClaw"
2. 安装应用
3. 打开应用并登录账户

**方法二：APK 直接安装**

```bash
# 下载最新 APK
curl -L https://github.com/openclaw/openclaw-android/releases/latest/download/openclaw.apk -o openclaw.apk

# 安装（需要允许未知来源）
adb install openclaw.apk
```

**配对流程**（与 iOS 相同）：

1. 打开 Android 应用
2. 点击"添加节点"
3. 输入配对码或扫描 QR 码
4. 等待配对完成

### Android 节点功能

| 功能 | 支持状态 | 说明 |
|------|----------|------|
| **相机拍照** | ✅ 支持 | 支持多摄像头 |
| **相机录像** | ✅ 支持 | 支持 4K 录制 |
| **实时相机流** | ✅ 支持 | 实时图像传输 |
| **麦克风录音** | ✅ 支持 | 支持降噪 |
| **语音唤醒** | ✅ 支持 | 离线唤醒词支持 |
| **语音对话** | ✅ 支持 | 实时语音交互 |
| **位置服务** | ✅ 支持 | GPS 和网络定位 |
| **屏幕录制** | ✅ 支持 | 屏幕内容捕获 |
| **通知推送** | ✅ 支持 | FCM 推送 |
| **短信功能** | ✅ 可选 | SMS 读取和发送 |

### Android 特定配置

```json5
{
  nodes: {
    android: {
      "<device-id>": {
        enabled: true,
        
        // 相机配置
        camera: {
          defaultLens: "wide",
          supportsPortraitMode: true,
          supportsNightMode: true,
          videoStabilization: true
        },
        
        // 音频配置
        audio: {
          noiseSuppression: true,
          echoCancellation: true,
          autoGainControl: true,
          supportedSampleRates: [16000, 44100, 48000]
        },
        
        // 电源管理
        power: {
          // 是否允许后台运行
          allowBackgroundExecution: true,
          // 电池优化忽略
          ignoreBatteryOptimization: true,
          // 省电模式
          powerSaveMode: "balanced"  // performance / balanced / battery_saver
        }
      }
    }
  }
}
```

---

## 🎤 语音功能详解

### 语音唤醒

语音唤醒功能允许你通过语音指令免提激活 AI 助手。

**工作原理**：

语音唤醒采用**关键词检测（Keyword Spotting）** 技术：设备持续监听麦克风输入；音频流被实时分析，检测预定义的唤醒词；检测到唤醒词后，设备被激活并准备接收命令；在嘈杂环境中，可以使用物理按键作为替代激活方式。

**唤醒词配置**：

```json5
{
  voice: {
    wakeWord: {
      // 唤醒词（支持多个）
      words: [
        "Hey OpenClaw",
        "OpenClaw",
        "小钳子"  // 中文唤醒词
      ],
      // 灵敏度（0-1，越高越敏感）
      sensitivity: 0.7,
      // 检测超时（秒）
      detectionTimeout: 3,
      // 是否在检测时播放提示音
      playSound: true,
      // 振动反馈
      vibrate: true
    }
  }
}
```

### 语音对话

语音对话模式提供实时的语音交互体验。

**使用场景**：

- 驾驶时免提操作
- 做饭时查询食谱
- 运动时获取信息
- 任何不便打字的场景

**配置选项**：

```json5
{
  voice: {
    conversation: {
      // 是否启用连续对话
      continuousMode: true,
      // 对话超时时间（秒）
      timeout: 30,
      // 打断识别（是否可以在 AI 说话时打断）
      interruptible: true,
      // 语音活动检测
      vad: {
        enabled: true,
        // 结束静默时间（毫秒）
        silenceDuration: 1500,
        // 语音阈值
        threshold: 0.02
      }
    }
  }
}
```

### 语音合成

语音合成让 AI 能够用自然语音回复。

**配置示例**：

```json5
{
  voice: {
    synthesis: {
      // 默认语音
      defaultVoice: {
        provider: "system",  // system / elevenlabs / azure
        voiceId: "alloy"
      },
      
      // 语音参数
      params: {
        // 语速（0.5-2.0）
        rate: 1.0,
        // 音调（0.5-2.0）
        pitch: 1.0,
        // 音量（0-1）
        volume: 0.8
      },
      
      // 输出格式
      format: {
        type: "mp3",  // mp3 / wav / ogg
        sampleRate: 24000
      }
    }
  }
}
```

---

## 📷 相机功能详解

### 拍照功能

拍照是最常用的节点功能之一。

**使用示例**：

```
用户：帮我拍张照片看看当前环境
AI：[调用相机节点拍照]
这是你的照片的描述：...
```

**高级选项**：

```typescript
// 调用示例
await node.camera.capture({
  // 摄像头选择
  camera: "back",
  // 分辨率
  resolution: "4032x3024",
  // 质量（1-100）
  quality: 90,
  // 是否包含元数据
  includeMetadata: true,
  // 是否启用闪光灯
  flash: "auto"
});
```

### 实时相机流

实时相机流将设备摄像头的画面实时传输给 AI。

**使用场景**：

- 远程监控
- 实时场景分析
- 视频通话
- 增强现实应用

**配置**：

```json5
{
  camera: {
    streaming: {
      // 是否启用
      enabled: true,
      // 最大分辨率
      maxResolution: "1280x720",
      // 最大帧率
      maxFps: 30,
      // 视频编码
      codec: "h264",
      // 比特率
      bitrate: 2000000  // 2 Mbps
    }
  }
}
```

### 图像处理

节点支持在设备端进行图像预处理：

| 处理类型 | 说明 |
|----------|------|
| 裁剪 | 裁剪图像到指定区域 |
| 缩放 | 调整图像尺寸 |
| 压缩 | 减小图像文件大小 |
| 旋转 | 旋转图像方向 |
| 滤镜 | 应用图像滤镜 |
| OCR | 文字识别预处理 |

---

## 📍 位置功能详解

### 获取当前位置

```typescript
// 获取当前位置
const location = await node.location.get({
  // 精度要求
  accuracy: "high",
  // 超时时间
  timeout: 30000,
  // 是否包含地址信息
  includeAddress: true
});

console.log(location);
// {
//   latitude: 39.9042,
//   longitude: 116.4074,
//   accuracy: 10,
//   address: "北京市东城区",
//   timestamp: 1699123456789
// }
```

### 位置历史

```json5
{
  location: {
    history: {
      // 是否记录历史
      enabled: true,
      // 保存时长（天）
      retentionDays: 7,
      // 更新间隔（秒）
      updateInterval: 300,
      // 最小移动距离（米）
      minDistance: 100
    }
  }
}
```

### 地理围栏

```json5
{
  location: {
    geofencing: {
      // 地理围栏列表
      fences: [
        {
          name: "Home",
          latitude: 39.9042,
          longitude: 116.4074,
          radius: 100,  // 米
          enterAction: "notify_home",
          exitAction: "notify_away"
        },
        {
          name: "Office",
          latitude: 39.9142,
          longitude: 116.4174,
          radius: 200,
          enterAction: "notify_office",
          exitAction: "notify_leave"
        }
      ]
    }
  }
}
```

---

## 🔧 节点管理

### 查看节点状态

```bash
# 列出所有节点
openclaw nodes list

# 查看节点详情
openclaw nodes status <node-id>

# 查看节点能力
openclaw nodes capabilities <node-id>
```

### 节点配置

```bash
# 更新节点配置
openclaw nodes config <node-id> --set "camera.enabled=true"

# 启用/禁用节点
openclaw nodes enable <node-id>
openclaw nodes disable <node-id>
```

### 故障排除

**问题一：节点无法配对**

症状：配对码输入后显示连接失败。

解决方案：确保 Gateway 正在运行；检查网络连接；验证配对码是否正确且未过期；检查防火墙设置。

**问题二：相机无法使用**

症状：调用相机时报权限错误。

解决方案：在系统设置中允许 OpenClaw 访问相机；检查相机是否被其他应用占用；重启 OpenClaw 应用。

**问题三：语音唤醒不灵敏**

症状：多次尝试才能唤醒。

解决方案：增加灵敏度设置；在安静环境中训练唤醒词；检查麦克风是否被遮挡；尝试切换到另一个唤醒词。

**问题四：电池消耗过快**

症状：节点导致设备电池快速消耗。

解决方案：禁用后台运行；减少位置更新频率；关闭实时相机流；在省电模式下使用节点。

---

## 📋 适用场景分析

### 场景一：智能家居控制

**配置**：语音唤醒 + 位置服务 + 通知推送

**工作流**：检测用户到家位置 → 自动打开家中的智能设备 → 发送通知确认

### 场景二：移动办公助手

**配置**：语音对话 + 相机拍照 + 屏幕录制

**工作流**：拍摄文档 → OCR 识别 → 整理笔记 → 发送邮件

### 场景三：安全监控

**配置**：实时相机流 + 移动检测 + 通知推送

**工作流**：实时监控 → 检测到移动 → 拍照记录 → 发送警报

### 场景四：出行助手

**配置**：GPS 位置 + 实时交通 + 日历集成

**工作流**：检测会议时间 → 计算出发时间 → 提供实时路线建议

---

## 📖 相关文档

- [部署指南](/zh-CN/platforms)——各平台部署详情
- [配置参考](/zh-CN/config/reference)——完整配置选项
- [语音对话](/zh-CN/nodes/talk)——语音交互详情
- [语音唤醒](/zh-CN/nodes/voicewake)——唤醒功能详情
- [故障排除](/zh-CN/help/troubleshooting)——问题解决指南
